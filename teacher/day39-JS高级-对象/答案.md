### 9.11 晨测

- new 的过程
  - 在内存中开辟一块空间
  - 设置原型链
  - `this`指向新创建的对象，也就是新开辟的内存地址
  - 执行函数
  - 返回对象
- 什么是闭包？闭包的优点？闭包的缺点？
  - 什么是闭包
    - 函数嵌套函数，闭包就是内部嵌套的函数
    - 闭包是一个包含内部函数引入外部函数的变量的对象
    - 闭包是函数内部与函数外部连接的桥梁，间接的让函数外部读取函数内部的变量
  - 优点
    - 让局部变量在函数执行完以后仍然存在在内存中，延长了局部变量的生命周期
    - 可以让外部作用域读写内部作用域的变量
  - 缺点
    - 函数执行完之后，局部变量不会销毁，长时间占用内存，还可能造成内存泄漏
- 谈一谈作用域链
  - 作用域是变量的起作用的范围区域，作用域链是查找变量和函数的一系列的过程
  - 每个函数在定义时会生成一个`[[scope]]`属性，这个属性中存储了函数定义时的作用域的层级，真正意义上是一个个作用域的变量对象组成的链条。
  - 作用域链是由函数在调用时形成的当前作用域加上`[[scope]]`属性中的作用域层级组成的，当前作用域是作用域链的最前端，全局作用域是作用域链的最末端，此时作用域链完整并激活
  - 当查找一个变量时就是沿着这条作用域链去找，如果找不到就会抛出错误。
- 什么是执行上下文
  - `js`解析并不是真正的直接逐行解析，而是在进入到一个新的作用域时，会先有一个准备工作，这个准备工作被称为执行上下文，执行上下文会在内存中为函数执行创建一个空间
  - 新的作用域可以是全局作用域和局部作用域，全局执行上下文只有一个，局部执行上下文可以有多个
  - 因为有多个执行上下文，所以`js`会创建一个执行上下文栈用来管理所有执行上下文
  - 进入`js`程序时会先创建一个全局上下文压入到执行栈中，全局执行上下文在整个程序结束时弹出
  - 当执行一个函数时会创建一个新的局部执行上下文，并把它压入执行栈中当函数执行结束从执行栈中弹出
  - 执行上下文包含三个内容1.变量对象2.确定`this`3.激活作用域链
- 区分 公有 私有 静态 特权 概念
  - 公有：设置给所有实例对象的
  - 私有：声明在构造函数中的变量或函数
  - 静态：`js`中无需实例化就可以调用的方法或属性
  - 特权：在构造函数中给实例对象绑定的方法被称作为特权方法
- 谈一谈变量对象 
  - 变量对象分为全局变量对象和局部变量对象
  - 全局变量对象就是window对象，所有的全局变量或全局函数都是window对象的属性和方法
  - 局部变量对象
    - 创建局部执行上下文时产生局部变量对象
    - 在变量对象中创建实参和形参
    - 提升所有函数声明方式声明的函数，如有重名，直接覆盖
    - 提升当前作用域中的所有变量，值为undefined，不会覆盖
